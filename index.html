<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Two Ropes Puzzle</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta
      name="description"
      content="You have a lighter and two ropes. Each rope takes 60 minutes to burn from end to end. The ropes do not burn evenly, so you cannot assume that X percent of the rope burns in X percent of the time. Find a way to burn the ropes so you measure 45 minutes."
    />
    <meta property="og:title" content="Two Ropes Puzzle" />
    <meta
      property="og:description"
      content="You have a lighter and two ropes. Each rope takes 60 minutes to burn from end to end. The ropes do not burn evenly, so you cannot assume that X percent of the rope burns in X percent of the time. Find a way to burn the ropes so you measure 45 minutes."
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="og-image.png" />
    <meta name="twitter:image" content="og-image.png" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Two Ropes Puzzle" />
    <meta
      name="twitter:description"
      content="You have a lighter and two ropes. Each rope takes 60 minutes to burn from end to end. The ropes do not burn evenly, so you cannot assume that X percent of the rope burns in X percent of the time. Find a way to burn the ropes so you measure 45 minutes."
    />
    <style>
      #cursor {
        pointer-events: none;
        position: absolute;
        display: none;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body class="bg-slate-950 text-slate-100 font-sans">
    <div class="max-w-[1100px] mx-auto p-4 grid gap-4">
      <header class="flex items-center justify-center gap-3 relative">
        <h1
          class="m-0 text-3xl md:text-4xl tracking-wide font-semibold"
          id="title"
        >
          Two Ropes Puzzle
        </h1>
        <button
          id="langToggle"
          class="absolute right-0 top-0 inline-flex items-center gap-2 rounded-lg border border-slate-700 bg-slate-800 px-2 py-1 text-xs hover:cursor-pointer"
        >
          <span id="langLabel">RU</span>
        </button>
      </header>
      <section>
        <div class="grid gap-2 mt-2 mb-4">
          <div
            class="text-slate-400 max-w-[600px] text-sm md:text-base"
            id="intro"
          >
            You have a lighter and two ropes. Each rope takes 60 minutes to burn
            from end to end. The ropes do not burn evenly, so you cannot assume
            that X percent of the rope burns in X percent of the time.
            <p class="mt-2">
              Find a way to burn the ropes so you measure 45 minutes.
            </p>
          </div>
        </div>
      </section>
      <section
        class="rounded-xl border border-slate-800 bg-slate-900 p-3 grid gap-3"
      >
        <div
          class="flex flex-col md:flex-row md:items-center justify-between gap-2"
        >
          <div class="flex flex-col gap-1">
            <div class="flex items-center gap-3">
              <span id="timeLabel">Simulation time:</span>
              <span class="tabular-nums font-semibold" id="simTime">0:00</span>
            </div>
            <div class="text-slate-400 text-xs" id="timeNote">
              1 minute is equal to 60 seconds.
            </div>
          </div>

          <div class="md:text-right space-x-2">
            <button
              id="playPause"
              class="inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-700 to-emerald-900 px-3 py-2 text-sm text-white hover:brightness-110 hover:cursor-pointer shadow-sm"
            >
              <svg
                class="inline-block"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="#ffffff"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M18.8906 12.846C18.5371 14.189 16.8667 15.138 13.5257 17.0361C10.296 18.8709 8.6812 19.7884 7.37983 19.4196C6.8418 19.2671 6.35159 18.9776 5.95624 18.5787C5 17.6139 5 15.7426 5 12C5 8.2574 5 6.3861 5.95624 5.42132C6.35159 5.02245 6.8418 4.73288 7.37983 4.58042C8.6812 4.21165 10.296 5.12907 13.5257 6.96393C16.8667 8.86197 18.5371 9.811 18.8906 11.154C19.0365 11.7084 19.0365 12.2916 18.8906 12.846Z"
                  stroke="#ffffff"
                  stroke-width="1.5"
                  stroke-linejoin="round"
                />
              </svg>

              <svg
                class="hidden"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4 7C4 5.58579 4 4.87868 4.43934 4.43934C4.87868 4 5.58579 4 7 4C8.41421 4 9.12132 4 9.56066 4.43934C10 4.87868 10 5.58579 10 7V17C10 18.4142 10 19.1213 9.56066 19.5607C9.12132 20 8.41421 20 7 20C5.58579 20 4.87868 20 4.43934 19.5607C4 19.1213 4 18.4142 4 17V7Z"
                  stroke="#ffffff"
                  stroke-width="1.5"
                />
                <path
                  d="M14 7C14 5.58579 14 4.87868 14.4393 4.43934C14.8787 4 15.5858 4 17 4C18.4142 4 19.1213 4 19.5607 4.43934C20 4.87868 20 5.58579 20 7V17C20 18.4142 20 19.1213 19.5607 19.5607C19.1213 20 18.4142 20 17 20C15.5858 20 14.8787 20 14.4393 19.5607C14 19.1213 14 18.4142 14 17V7Z"
                  stroke="#ffffff"
                  stroke-width="1.5"
                />
              </svg>

              <span id="runLabel">Run</span>
            </button>
            <button
              id="reset"
              class="inline-flex items-center gap-2 rounded-lg border border-rose-700 bg-rose-900/30 px-3 py-2 text-sm text-rose-100 hover:brightness-110 hover:cursor-pointer shadow-sm"
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M20.0092 2V5.13219C20.0092 5.42605 19.6418 5.55908 19.4537 5.33333C17.6226 3.2875 14.9617 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12"
                  stroke="#ffffff"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>

              <span id="resetLabel">Reset</span>
            </button>
          </div>
        </div>

        <canvas
          id="view"
          height="260"
          aria-label="Ropes visualization"
          role="img"
          class="w-full h-[260px] bg-slate-900 border border-slate-800 rounded-xl"
        ></canvas>
        <div id="cursor">ðŸ”¥</div>
        <div
          id="toast45"
          class="fixed inset-x-0 top-1/2 md:top-[200px] flex justify-center z-[1000] hidden"
        >
          <div
            class="rounded-lg bg-gradient-to-r from-[#193e4d] to-[#1b133a] px-4 py-2 shadow-lg flex items-center gap-4"
          >
            <div
              class="w-5 h-5 rounded-full bg-[#1fd36b] flex items-center justify-center"
            >
              <svg
                class="w-4 h-4 text-[#1b133a]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="4"
                stroke-linecap="round"
                stroke-linejoin="round"
                aria-hidden="true"
              >
                <path d="M20 6 9 17l-5-5" />
              </svg>
            </div>
            <div class="flex flex-col">
              <span class="text-base text-[#1fd36b]">Congratulations! </span>
              <span class="text-base text-gray-300"
                >You've solved the puzzle!</span
              >
            </div>
          </div>
        </div>
        <div class="flex items-center gap-4 text-sm text-slate-400 md:px-8">
          <span class="inline-flex items-center gap-2" id="legendDensity"
            ><span
              class="inline-block w-7 h-4 rounded-sm bg-gradient-to-r from-[#e4cdad] to-[#a97f52] border border-[#b08958]"
            ></span
            >uneven density</span
          >
          <span class="inline-flex items-center gap-2" id="legendBurnt"
            ><span
              class="inline-block w-7 h-4 rounded-sm bg-slate-900 border border-slate-700"
            ></span
            >burnt</span
          >
          <span class="inline-flex items-center gap-2" id="legendFlame"
            ><span
              class="inline-block w-7 h-4 rounded-sm bg-amber-400 border border-amber-600"
            ></span
            >flame</span
          >
        </div>
      </section>
    </div>
    <script src="index.js"></script>
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
      (function (m, e, t, r, i, k, a) {
        m[i] =
          m[i] ||
          function () {
            (m[i].a = m[i].a || []).push(arguments);
          };
        m[i].l = 1 * new Date();
        for (var j = 0; j < document.scripts.length; j++) {
          if (document.scripts[j].src === r) {
            return;
          }
        }
        (k = e.createElement(t)),
          (a = e.getElementsByTagName(t)[0]),
          (k.async = 1),
          (k.src = r),
          a.parentNode.insertBefore(k, a);
      })(
        window,
        document,
        "script",
        "https://mc.yandex.ru/metrika/tag.js?id=104857837",
        "ym"
      );

      ym(104857837, "init", {
        ssr: true,
        webvisor: true,
        clickmap: true,
        ecommerce: "dataLayer",
        accurateTrackBounce: true,
        trackLinks: true,
      });
    </script>
    <noscript
      ><div>
        <img
          src="https://mc.yandex.ru/watch/104857837"
          style="position: absolute; left: -9999px"
          alt=""
        /></div
    ></noscript>
    <!-- /Yandex.Metrika counter -->
  </body>
</html>
